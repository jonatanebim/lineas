<div class="my-table-report position-relative mb-3" [ngClass]="{ 'mb-5': values.length > 4 && !withoutButton }">
  <div class="my-table-report__wrapper d-flex gap-1" [ngClass]="{ 'w-100': isFullSize }">
    <table class="w-100">
      <thead>
        <tr>
          @for (h of headers; track h) {
          <th
            [ngStyle]="{
              backgroundColor: h.color,
              color: h.color && 'white'
            }"
            [ngClass]="{ 'w-label': h.tooltip }"
            [attr.data-label]="h.tooltip"
          >
            {{ h.label }}
          </th>
          }
        </tr>
      </thead>
      <tbody>
        @if (!values.length) {
        <tr>
          <td [attr.colspan]="headers.length">
            <p class="w-100 text-center pt-4">No pudimos encontrar ningún resultado para tu búsqueda.</p>
          </td>
        </tr>
        } @for (i of values; track i) { @if($index <= quantity) {
        <tr>
          @for (c of headers; track c) {
          <td>
            @if (isIndicator(c.columnName)) {
            <app-rank-indicator [data]="{ value: i[c.columnName] }" [withHeader]="false"></app-rank-indicator>
            } @else { @if (c.columnName === 'skus') {
            <a [routerLink]="['/path']">Ver detalle de SKU <i class="icon icon-right"></i> </a>
            } @else {
            <p
              class="m-0"
              [class]="'item__' + i[c.columnName]"
              [ngClass]="{
                item__status: isStatus(c.columnName),
                item__badge: isBadge(c.columnName)
              }"
            >
              <span></span>
              {{ i[c.columnName] }}
            </p>
            } }
          </td>
          }
        </tr>
        } }
      </tbody>
    </table>
  </div>

  @if (values.length > 4 && !withoutButton) {
  <div class="see-more w-100 text-center">
    <app-see-more [isActive]="quantity === values.length" (toggle)="seeAll($event)"></app-see-more>
  </div>
  }
</div>
